\hypertarget{group__apr__random}{}\section{Random Functions}
\label{group__apr__random}\index{Random Functions@{Random Functions}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__apr__random_ga30fbaf80424a9f1a0e9cc51072f65127}\label{group__apr__random_ga30fbaf80424a9f1a0e9cc51072f65127}} 
typedef struct \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} {\bfseries apr\+\_\+crypto\+\_\+hash\+\_\+t}
\item 
\mbox{\Hypertarget{group__apr__random_gad2775bc1cdb376d9dec0e97283b4bdd9}\label{group__apr__random_gad2775bc1cdb376d9dec0e97283b4bdd9}} 
typedef void {\bfseries apr\+\_\+crypto\+\_\+hash\+\_\+init\+\_\+t}(\mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$hash)
\item 
\mbox{\Hypertarget{group__apr__random_ga2f8a4fb18078a76357327ea55936c1ea}\label{group__apr__random_ga2f8a4fb18078a76357327ea55936c1ea}} 
typedef void {\bfseries apr\+\_\+crypto\+\_\+hash\+\_\+add\+\_\+t}(\mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$hash, const void $\ast$data, apr\+\_\+size\+\_\+t bytes)
\item 
\mbox{\Hypertarget{group__apr__random_gab70ea9133870efdb5532d20d4bcf7442}\label{group__apr__random_gab70ea9133870efdb5532d20d4bcf7442}} 
typedef void {\bfseries apr\+\_\+crypto\+\_\+hash\+\_\+finish\+\_\+t}(\mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$hash, unsigned char $\ast$result)
\item 
typedef struct \mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} \mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__apr__random_ga198e0e695921706b8452432b40a48678}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (\mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$) apr\+\_\+crypto\+\_\+sha256\+\_\+new(\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} $\ast$p)
\item 
\mbox{\hyperlink{group__apr__random_ga0beeda9af106148755f0dde71aea6c93}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (void) apr\+\_\+random\+\_\+init(\mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} $\ast$g
\item 
\mbox{\hyperlink{group__apr__random_ga7a5815c3aa0c70a34fe428af0dee40bb}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (\mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} $\ast$) apr\+\_\+random\+\_\+standard\+\_\+new(\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} $\ast$p)
\item 
\mbox{\hyperlink{group__apr__random_ga07682b862eda9e40f1d8c1377514b5ac}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (\mbox{\hyperlink{group__apr__errno_gaf76ee4543247e9fb3f3546203e590a6c}{apr\+\_\+status\+\_\+t}}) apr\+\_\+random\+\_\+insecure\+\_\+bytes(\mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} $\ast$g
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__apr__random_ga2e727f881424334cf12d8af10f50ec6c}\label{group__apr__random_ga2e727f881424334cf12d8af10f50ec6c}} 
\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} $\ast$ {\bfseries p}
\item 
\mbox{\Hypertarget{group__apr__random_ga467948cb4cf4e6c6531ec82add319f77}\label{group__apr__random_ga467948cb4cf4e6c6531ec82add319f77}} 
\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$ {\bfseries pool\+\_\+hash}
\item 
\mbox{\Hypertarget{group__apr__random_ga8cfe7466d86884deb41f9260608ef429}\label{group__apr__random_ga8cfe7466d86884deb41f9260608ef429}} 
\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$ {\bfseries key\+\_\+hash}
\item 
\mbox{\Hypertarget{group__apr__random_gac92511b46c28b5d66795bde787ad8f84}\label{group__apr__random_gac92511b46c28b5d66795bde787ad8f84}} 
\mbox{\hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} \mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$ {\bfseries prng\+\_\+hash}
\item 
\mbox{\Hypertarget{group__apr__random_ga0feb49c6530af6eb997e0937caa0f144}\label{group__apr__random_ga0feb49c6530af6eb997e0937caa0f144}} 
const void $\ast$ {\bfseries entropy\+\_\+}
\item 
\mbox{\Hypertarget{group__apr__random_ga393b167dab644f408202cbbcad070e6d}\label{group__apr__random_ga393b167dab644f408202cbbcad070e6d}} 
const void apr\+\_\+size\+\_\+t {\bfseries bytes}
\item 
\mbox{\Hypertarget{group__apr__random_gaf9af9a235f7919252e3d3ace127a6aeb}\label{group__apr__random_gaf9af9a235f7919252e3d3ace127a6aeb}} 
void $\ast$ {\bfseries random}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}\label{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}} 
\index{Random Functions@{Random Functions}!apr\+\_\+random\+\_\+t@{apr\+\_\+random\+\_\+t}}
\index{apr\+\_\+random\+\_\+t@{apr\+\_\+random\+\_\+t}!Random Functions@{Random Functions}}
\subsubsection{\texorpdfstring{apr\+\_\+random\+\_\+t}{apr\_random\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} \mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}}}

Opaque P\+R\+NG structure. 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__apr__random_ga198e0e695921706b8452432b40a48678}\label{group__apr__random_ga198e0e695921706b8452432b40a48678}} 
\index{Random Functions@{Random Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Random Functions@{Random Functions}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structapr__crypto__hash__t}{apr\+\_\+crypto\+\_\+hash\+\_\+t}} $\ast$}]{ }\end{DoxyParamCaption})}

Allocate and initialize the S\+H\+A-\/256 context 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__apr__random_ga0beeda9af106148755f0dde71aea6c93}\label{group__apr__random_ga0beeda9af106148755f0dde71aea6c93}} 
\index{Random Functions@{Random Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Random Functions@{Random Functions}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialize a P\+R\+NG state 
\begin{DoxyParams}{Parameters}
{\em g} & The P\+R\+NG state \\
\hline
{\em p} & The pool to allocate from \\
\hline
{\em pool\+\_\+hash} & Pool hash functions \\
\hline
{\em key\+\_\+hash} & Key hash functions \\
\hline
{\em prng\+\_\+hash} & P\+R\+NG hash functions\\
\hline
\end{DoxyParams}
Mix the randomness pools. 
\begin{DoxyParams}{Parameters}
{\em g} & The P\+R\+NG state \\
\hline
{\em entropy\+\_\+} & Entropy buffer \\
\hline
{\em bytes} & Length of entropy\+\_\+ in bytes\\
\hline
\end{DoxyParams}
Ensures that E bits of conditional entropy are mixed into the P\+R\+NG before any further randomness is extracted. 
\begin{DoxyParams}{Parameters}
{\em g} & The R\+NG state\\
\hline
\end{DoxyParams}
Mix the randomness pools after forking. 
\begin{DoxyParams}{Parameters}
{\em proc} & The resulting process handle from apr\+\_\+proc\+\_\+fork() \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Call this in the child after forking to mix the randomness pools. Note that its generally a bad idea to fork a process with a real P\+R\+NG in it -\/ better to have the P\+R\+NG externally and get the randomness from there. However, if you really must do it, then you should supply all your entropy to all the P\+R\+N\+Gs -\/ don\textquotesingle{}t worry, they won\textquotesingle{}t produce the same output. 

Note that apr\+\_\+proc\+\_\+fork() calls this for you, so only weird applications need ever call it themselves. 
\end{DoxyRemark}
\mbox{\Hypertarget{group__apr__random_ga7a5815c3aa0c70a34fe428af0dee40bb}\label{group__apr__random_ga7a5815c3aa0c70a34fe428af0dee40bb}} 
\index{Random Functions@{Random Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Random Functions@{Random Functions}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__apr__random_ga33073741e56b1bafe52ba58cefcbbf96}{apr\+\_\+random\+\_\+t}} $\ast$}]{ }\end{DoxyParamCaption})}

Allocate and initialize (apr\+\_\+crypto\+\_\+sha256\+\_\+new) a new P\+R\+NG state. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__apr__random_ga07682b862eda9e40f1d8c1377514b5ac}\label{group__apr__random_ga07682b862eda9e40f1d8c1377514b5ac}} 
\index{Random Functions@{Random Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Random Functions@{Random Functions}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__apr__errno_gaf76ee4543247e9fb3f3546203e590a6c}{apr\+\_\+status\+\_\+t}}}]{ }\end{DoxyParamCaption})}

Generate cryptographically insecure random bytes. 
\begin{DoxyParams}{Parameters}
{\em g} & The R\+NG state \\
\hline
{\em random} & Buffer to fill with random bytes \\
\hline
{\em bytes} & Length of buffer in bytes\\
\hline
\end{DoxyParams}
Generate cryptographically secure random bytes. 
\begin{DoxyParams}{Parameters}
{\em g} & The R\+NG state \\
\hline
{\em random} & Buffer to fill with random bytes \\
\hline
{\em bytes} & Length of buffer in bytes\\
\hline
\end{DoxyParams}
Return A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS if the cryptographic P\+R\+NG has been seeded with enough data, A\+P\+R\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+E\+N\+T\+R\+O\+PY otherwise. 
\begin{DoxyParams}{Parameters}
{\em r} & The R\+NG state\\
\hline
\end{DoxyParams}
Return A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS if the P\+R\+NG has been seeded with enough data, A\+P\+R\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+E\+N\+T\+R\+O\+PY otherwise. 
\begin{DoxyParams}{Parameters}
{\em r} & The P\+R\+NG state \\
\hline
\end{DoxyParams}
