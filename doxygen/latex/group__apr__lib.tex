\hypertarget{group__apr__lib}{}\section{General Purpose Library Routines}
\label{group__apr__lib}\index{General Purpose Library Routines@{General Purpose Library Routines}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__apr__lib_ga0c9dd98f46b90b5bcd4cbf75e252d0da}{H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN}}~8192
\item 
\#define \mbox{\hyperlink{group__apr__lib_gaa3b0264aadbd9f8d805252fb1ca1cd0e}{apr\+\_\+killpg}}(x,  y)~(killpg ((x), (y)))
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} \mbox{\hyperlink{group__apr__lib_ga5e9986deebda40f2d1cf8364fa03c3c5}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__apr__lib_gafc328be562cbf80885289214b616e86f}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (const char $\ast$) apr\+\_\+filepath\+\_\+name\+\_\+get(const char $\ast$pathname)
\item 
\mbox{\hyperlink{group__apr__lib_gabfb3aa49508166a7d0cc70945b0164b7}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}} (int) apr\+\_\+vformatter(int($\ast$flush\+\_\+func)(\mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} $\ast$b)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__apr__lib_ga0823c5d125363d133fed61fb69c69cdd}\label{group__apr__lib_ga0823c5d125363d133fed61fb69c69cdd}} 
\mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} $\ast$ {\bfseries c}
\item 
\mbox{\Hypertarget{group__apr__lib_ga776e5cba9e51aac9902b10c9a2c354cc}\label{group__apr__lib_ga776e5cba9e51aac9902b10c9a2c354cc}} 
\mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} const char $\ast$ {\bfseries fmt}
\item 
\mbox{\Hypertarget{group__apr__lib_ga21ecbc810cd93b85a818c96ca2f92f1a}\label{group__apr__lib_ga21ecbc810cd93b85a818c96ca2f92f1a}} 
\mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} const char va\+\_\+list {\bfseries ap}
\item 
\mbox{\Hypertarget{group__apr__lib_gac94b4a094f5865d6a5d4a7b04929e528}\label{group__apr__lib_gac94b4a094f5865d6a5d4a7b04929e528}} 
char $\ast$ {\bfseries pwbuf}
\item 
\mbox{\Hypertarget{group__apr__lib_ga423d6c42d72a554fc31208493f49913e}\label{group__apr__lib_ga423d6c42d72a554fc31208493f49913e}} 
char apr\+\_\+size\+\_\+t $\ast$ {\bfseries bufsize}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is collection of oddballs that didn\textquotesingle{}t fit anywhere else, and might move to more appropriate headers with the release of A\+PR 1.\+0. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__apr__lib_gaa3b0264aadbd9f8d805252fb1ca1cd0e}\label{group__apr__lib_gaa3b0264aadbd9f8d805252fb1ca1cd0e}} 
\index{General Purpose Library Routines@{General Purpose Library Routines}!apr\+\_\+killpg@{apr\+\_\+killpg}}
\index{apr\+\_\+killpg@{apr\+\_\+killpg}!General Purpose Library Routines@{General Purpose Library Routines}}
\subsubsection{\texorpdfstring{apr\+\_\+killpg}{apr\_killpg}}
{\footnotesize\ttfamily \#define apr\+\_\+killpg(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{y }\end{DoxyParamCaption})~(killpg ((x), (y)))}

apr\+\_\+killpg Small utility macros to make things easier to read. Not usually a goal, to be sure.. \mbox{\Hypertarget{group__apr__lib_ga0c9dd98f46b90b5bcd4cbf75e252d0da}\label{group__apr__lib_ga0c9dd98f46b90b5bcd4cbf75e252d0da}} 
\index{General Purpose Library Routines@{General Purpose Library Routines}!H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN@{H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN}}
\index{H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN@{H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN}!General Purpose Library Routines@{General Purpose Library Routines}}
\subsubsection{\texorpdfstring{H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN}{HUGE\_STRING\_LEN}}
{\footnotesize\ttfamily \#define H\+U\+G\+E\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+L\+EN~8192}

A constant representing a \textquotesingle{}large\textquotesingle{} string. 

\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__apr__lib_ga5e9986deebda40f2d1cf8364fa03c3c5}\label{group__apr__lib_ga5e9986deebda40f2d1cf8364fa03c3c5}} 
\index{General Purpose Library Routines@{General Purpose Library Routines}!apr\+\_\+vformatter\+\_\+buff\+\_\+t@{apr\+\_\+vformatter\+\_\+buff\+\_\+t}}
\index{apr\+\_\+vformatter\+\_\+buff\+\_\+t@{apr\+\_\+vformatter\+\_\+buff\+\_\+t}!General Purpose Library Routines@{General Purpose Library Routines}}
\subsubsection{\texorpdfstring{apr\+\_\+vformatter\+\_\+buff\+\_\+t}{apr\_vformatter\_buff\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} \mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}}}

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structapr__vformatter__buff__t}{apr\+\_\+vformatter\+\_\+buff\+\_\+t}} 
\end{DoxySeeAlso}


\subsection{Function Documentation}
\mbox{\Hypertarget{group__apr__lib_gafc328be562cbf80885289214b616e86f}\label{group__apr__lib_gafc328be562cbf80885289214b616e86f}} 
\index{General Purpose Library Routines@{General Purpose Library Routines}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!General Purpose Library Routines@{General Purpose Library Routines}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ }\end{DoxyParamCaption}) const}

return the final element of the pathname 
\begin{DoxyParams}{Parameters}
{\em pathname} & The path to get the final element of \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the final element of the path 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}

\begin{DoxyPre}
For example:
                "/foo/bar/gum"    -> "gum"
                "/foo/bar/gum/"   -> ""
                "gum"             -> "gum"
                "bs\(\backslash\)\(\backslash\)path\(\backslash\)\(\backslash\)stuff" -> "stuff"
\end{DoxyPre}

\end{DoxyRemark}
Get the value associated with a given key from the table. After this call, the data is still in the table. 
\begin{DoxyParams}{Parameters}
{\em t} & The table to search for the key \\
\hline
{\em key} & The key to search for (case does not matter) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value associated with the key, or N\+U\+LL if the key does not exist. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__apr__lib_gabfb3aa49508166a7d0cc70945b0164b7}\label{group__apr__lib_gabfb3aa49508166a7d0cc70945b0164b7}} 
\index{General Purpose Library Routines@{General Purpose Library Routines}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!General Purpose Library Routines@{General Purpose Library Routines}}
\subsubsection{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E()}{APR\_DECLARE()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (\begin{DoxyParamCaption}\item[{int}]{ }\end{DoxyParamCaption})}

apr\+\_\+vformatter() is a generic printf-\/style formatting routine with some extensions. 
\begin{DoxyParams}{Parameters}
{\em flush\+\_\+func} & The function to call when the buffer is full \\
\hline
{\em c} & The buffer to write to \\
\hline
{\em fmt} & The format string \\
\hline
{\em ap} & The arguments to use to fill out the format string.\\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}

\begin{DoxyPre}
The extensions are:\end{DoxyPre}

\end{DoxyRemark}
\%pA takes a struct \mbox{\hyperlink{structin__addr}{in\+\_\+addr}} $\ast$, and prints it as a.\+b.\+c.\+d \%pI takes an \mbox{\hyperlink{structapr__sockaddr__t}{apr\+\_\+sockaddr\+\_\+t}} $\ast$ and prints it as a.\+b.\+c.\+d\+:port or


\begin{DoxyPre}\%pT takes an apr\_os\_thread\_t * and prints it in decimal
     ('0' is printed if !APR\_HAS\_THREADS)
\%pt takes an apr\_os\_thread\_t * and prints it in hexadecimal
     ('0' is printed if !APR\_HAS\_THREADS)
\%pm takes an apr\_status\_t * and prints the appropriate error
     string (from apr\_strerror) corresponding to that error code.
\%pp takes a void * and outputs it in hex
\%pB takes a apr\_uint32\_t * as bytes and outputs it's apr\_strfsize
\%pF same as above, but takes a apr\_off\_t *
\%pS same as above, but takes a apr\_size\_t *\end{DoxyPre}



\begin{DoxyPre}\%pA, \%pI, \%pT, \%pp are available from APR 1.0.0 onwards (and in 0.9.x).
\%pt is only available from APR 1.2.0 onwards.
\%pm, \%pB, \%pF and \%pS are only available from APR 1.3.0 onwards.\end{DoxyPre}



\begin{DoxyPre}The \%p hacks are to force gcc's printf warning code to skip
over a pointer argument without complaining.  This does
mean that the ANSI-style \%p (output a void * in hex format) won't
work as expected at all, but that seems to be a fair trade-off
for the increased robustness of having printf-warnings work.\end{DoxyPre}



\begin{DoxyPre}Additionally, apr\_vformatter allows for arbitrary output methods
using the apr\_vformatter\_buff and flush\_func.\end{DoxyPre}



\begin{DoxyPre}The apr\_vformatter\_buff has two elements curpos and endpos.
curpos is where apr\_vformatter will write the next byte of output.
It proceeds writing output to curpos, and updating curpos, until
either the end of output is reached, or curpos == endpos (i.e. the
buffer is full).\end{DoxyPre}



\begin{DoxyPre}If the end of output is reached, apr\_vformatter returns the
number of bytes written.\end{DoxyPre}



\begin{DoxyPre}When the buffer is full, the flush\_func is called.  The flush\_func
can return -1 to indicate that no further output should be attempted,
and apr\_vformatter will return immediately with -1.  Otherwise
the flush\_func should flush the buffer in whatever manner is
appropriate, re apr\_pool\_t nitialize curpos and endpos, and return 0.\end{DoxyPre}



\begin{DoxyPre}Note that flush\_func is only invoked as a result of attempting to
write another byte at curpos when curpos >= endpos.  So for
example, it's possible when the output exactly matches the buffer
space available that curpos == endpos will be true when
apr\_vformatter returns.\end{DoxyPre}



\begin{DoxyPre}apr\_vformatter does not call out to any other code, it is entirely
self-contained.  This allows the callers to do things which are
otherwise "unsafe".  For example, apr\_psprintf uses the "scratch"
space at the unallocated end of a block, and doesn't actually
complete the allocation until apr\_vformatter returns.  apr\_psprintf
would be completely broken if apr\_vformatter were to call anything
that used this same pool.  Similarly http\_bprintf() uses the "scratch"
space at the end of its output buffer, and doesn't actually note
that the space is in use until it either has to flush the buffer
or until apr\_vformatter returns.
\end{DoxyPre}


Display a prompt and read in the password from stdin. 
\begin{DoxyParams}{Parameters}
{\em prompt} & The prompt to display \\
\hline
{\em pwbuf} & Buffer to store the password \\
\hline
{\em bufsize} & The length of the password buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If the password entered must be truncated to fit in the provided buffer, A\+P\+R\+\_\+\+E\+N\+A\+M\+E\+T\+O\+O\+L\+O\+NG will be returned. Note that the bufsize paramater is passed by reference for no reason; its value will never be modified by the apr\+\_\+password\+\_\+get() function. 
\end{DoxyRemark}
